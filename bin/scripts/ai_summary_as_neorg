#!/usr/bin/python3 

from sys import stdin
from subprocess import run

prompt: str = "below is a a transcript. summarize this into markdown format where various topics are split into different sections using bullet points. be sure to note any take aways (and who owns them if possible), any agreements that were had (if any), any lessons learned that were had (if any), and anything that can be improved (if any):\n"
data: str = stdin.read()

query: str = f"{prompt}\n${data}"

result = run(
    "perpy | mton",
    input=query.encode('utf-8'),
    shell=True,
    capture_output=True
)

print(result.stdout.decode('utf-8'))

