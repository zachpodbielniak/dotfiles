#!/bin/bash 
# strips audio from a video and transcodes to 
# oggvorbis format for standard formatting
set -euo pipefail

input=""
output=""

if [[ $# -lt 1 ]]
then 
    echo "use this tool correctly:"
    echo "  ${0} <input_file> [output_file]"
fi

input="${1}"

if [[ $# -ge 2 ]]
then 
    output="${2}"
else 
    output="${input}.ogg"
fi

# strip audio from a video with ffmpeg
distrobox \
    enter \
    dev \
    -- \
    /usr/bin/ffmpeg \
    -y \
    -i "${input}" \
    -vn \
    -acodec libvorbis \
    -q:a 2 \
    "${output}"


printf \
    "%s\n" \
    "output: ${output}"

