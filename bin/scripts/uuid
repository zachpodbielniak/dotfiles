#!/bin/bash

set -euo pipefail

usage() {
	cat << 'EOF'
uuid - Generate UUIDs

USAGE: uuid [OPTIONS] [COUNT]

OPTIONS:
-h, --help      Show help
--license       License

EXAMPLES:
uuid
# Output: random UUID

uuid 5
# Output: 5 UUIDs
EOF
}

[[ "${1:-}" == "-h" || "${1:-}" == "--help" ]] && { usage; exit 0; }
[[ "${1:-}" == "--license" ]] && { echo "AGPLv3"; exit 0; }

count="${1:-1}"

for ((i = 0; i < count; i++)); do
	python3 -c "import uuid; print(uuid.uuid4())"
done
