#!/bin/bash 
set -euo pipefail 
    
var_name="gsettings"

if [[ $# -ge 2 ]]
then
    var_name="${2}"
fi 

printf "declare -A %s=(\n" "${var_name}"

for k in $(gsettings list-keys "$1") 
do 
    printf '\t[%s]="%s"\n' $k $(gsettings get "$1" $k)
done

printf ")\n"

