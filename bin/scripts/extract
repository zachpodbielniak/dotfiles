#!/bin/bash 

# dotfiles - Personal configuration files and scripts
# Copyright (C) 2025  Zach Podbielniak
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU Affero General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU Affero General Public License for more details.
#
# You should have received a copy of the GNU Affero General Public License
# along with this program.  If not, see <https://www.gnu.org/licenses/>.


if [ $# -lt 1 ]; then 
    echo -e "Use this correctly!"
    echo -e "\t$0 <file>"
    exit 1
fi

filename="$1"

if [ ! -f "$filename" ]; then
    echo "$1 is not a file!"
    exit 1 
fi

case $filename in 
    *.tar.xz)   tar -xvf "$filename" ;;
    *.tar.bz2)  tar -jxvf "$filename" ;; 
    *.tar.gz)   tar -zxvf "$filename" ;;
    *.bz2)      bunzip2 "$filename" ;;
    *.dmg)      hdiutil mount "$filename" ;;
    *.gz)       gunzip "$filename" ;;
    *.tar)      tar -xvf "$filename" ;;
    *.tbz2)     tar -jxvf "$filename" ;;
    *.tgz)      tar -zxvf "$filename" ;;
    *.zip)      unzip "$filename" ;;
    *.pax)      pax -r < "$filename" ;;
    *.pax.Z)    uncompress "$filename" --stdout | pax -r ;;
    *.rar)      7zz x "$filename" ;;
    *.z)        uncompress "$filename" ;;
    *.7z)       7zz x "$filename" ;;
    *)          echo "$filename cannot be extracted via $0" ;;
esac


