#!/bin/bash

set -euo pipefail

usage() {
	cat << 'EOF'
random - Generate random number

USAGE: random [OPTIONS] [MAX]

OPTIONS:
-h, --help      Show help
--license       License

EXAMPLES:
random
# Output: random number 0-32767

random 100
# Output: random number 0-100
EOF
}

[[ "${1:-}" == "-h" || "${1:-}" == "--help" ]] && { usage; exit 0; }
[[ "${1:-}" == "--license" ]] && { echo "AGPLv3"; exit 0; }

max="${1:-32767}"
echo $((RANDOM % max))
