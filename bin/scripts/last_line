#!/bin/bash

set -euo pipefail

usage() {
	cat << 'EOF'
last_line - Get last line

USAGE: last_line [OPTIONS] [COUNT]

OPTIONS:
-h, --help      Show help
--license       License

EXAMPLES:
echo -e "a\nb\nc" | last_line
# Output: c

echo -e "a\nb\nc" | last_line 2
# Output: b\nc
EOF
}

[[ "${1:-}" == "-h" || "${1:-}" == "--help" ]] && { usage; exit 0; }
[[ "${1:-}" == "--license" ]] && { echo "AGPLv3"; exit 0; }

count="${1:-1}"
tail -n "$count"
