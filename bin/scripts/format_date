#!/bin/bash
set -euo pipefail
usage() { cat << 'USAGE'
format_date - Format date strings
USAGE: format_date [OPTIONS] FORMAT
OPTIONS:
-h, --help      Show this help message
--license       Show license information
EXAMPLES:
date_to_unix | format_date +%A
# Output: (day of week)
USAGE
exit 0; }
[[ "${1:-}" == "-h" || "${1:-}" == "--help" ]] && usage
[[ "${1:-}" == "--license" ]] && { echo "AGPLv3"; exit 0; }
format="${1:-%Y-%m-%d}"
while IFS= read -r timestamp; do
    date -d "@$timestamp" "$format"
done
