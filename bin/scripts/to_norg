#!/bin/bash
set -euo pipefail

format="bash"

print_help() {
    echo -e "Usage:"
    echo -e "$(basename ${0}) <argument>"
    echo -e "  -h,--help\tprint this message"
    echo -e "  -f,--format\tset the format of the text (default 'bash')"
}

while [[ $# -ne 0 ]]
do 
    case "${1}" in 
        -h|--help)
            print_help
            exit 0
            ;;
        -f|--format)
            shift
            format="${1}"
    esac
    shift
done


printf "@code %s\n" "${format}"
while IFS= read -r line
do
    printf "%s\n" "${line}"
done
printf "@end\n"

