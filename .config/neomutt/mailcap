# Mailcap file for neomutt
# Defines how to handle various MIME types

# HTML emails - convert to plain text for inline viewing
# w3m with link numbers shows [1], [2] etc with URL list at bottom
text/html; w3m -dump -o display_link_number=1 -T text/html -I %{charset} -O utf-8; copiousoutput

# Alternative: lynx (uncomment if preferred)
# text/html; lynx -dump -stdin -assume_charset=%{charset} -display_charset=utf-8; copiousoutput

# Images - view with imv or feh if available
image/*; imv %s 2>/dev/null || feh %s 2>/dev/null; test=test -n "$DISPLAY"

# PDFs - view with zathura or evince
application/pdf; zathura %s 2>/dev/null || evince %s 2>/dev/null; test=test -n "$DISPLAY"

# Open anything else with xdg-open as fallback
*/*; xdg-open %s 2>/dev/null; test=test -n "$DISPLAY"
